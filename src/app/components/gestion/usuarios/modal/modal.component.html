<p-dialog
  #modal
  [(visible)]="mostrarModal"
  [draggable]="false"
  [maximizable]="false"
  [modal]="true"
  (onHide)="hide()"
>
  <form [formGroup]="form">
    <div class="field">
      <label for="nombre">Nombre</label>
      <input
        type="text"
        pInputText
        formControlName="nombre"
        id="id"
        class="w-full"
      />
    </div>

    <div class="field">
      <label for="correo">Correo</label>
      <input
        type="text"
        pInputText
        formControlName="correo"
        id="id"
        class="w-full"
      />
    </div>

    <div class="field flex flex-column">
      <label for="rol">Rol</label>
      <p-dropdown
        [options]="roles"
        formControlName="rol"
        placeholder="Selecciona un rol"
        class="w-full"
      />
    </div>

    <div class="field flex flex-column">
      <label for="contrasenia">Contrase침a</label>
      <p-password
        promptLabel="Escoje una contrase침a"
        class="w-full"
        formControlName="contrasenia"
        weakLabel="Muy simple"
        mediumLabel="Vas bien un poco m치s!"
        strongLabel="Contrase침a segura"
        [toggleMask]="true"
      />
    </div>

    <div class="mensajes-error" *ngIf="mensajesError != ''">
      <div [innerHTML]="mensajesError"></div>
    </div>

    <div class="field flex justify-content-center gap-1" *ngIf="nuevo">
      <p-button
        #btnGuardar
        label="Guardar"
        styleClass="w-full"
        icon="fa-solid fa-save"
        [loading]="cargando"
        (click)="registrar()"
      ></p-button>
      <p-button
        #btnCancelar
        label="Cancelar"
        styleClass="w-full"
        icon="fa-solid fa-times"
        (click)="mostrarModal = false"
      ></p-button>
    </div>

    <div class="field flex justify-content-center gap-1" *ngIf="!nuevo">
      <p-button
        #btnGuardar
        label="Editar"
        styleClass="w-full"
        icon="fa-solid fa-pencil"
        [loading]="cargando"
        (click)="editar()"
      ></p-button>
      <p-button
        #btnCancelar
        label="Cancelar"
        styleClass="w-full"
        icon="fa-solid fa-times"
        (click)="mostrarModal = false"
      ></p-button>
    </div>

    <p-progressBar mode="indeterminate" *ngIf="cargando" />
  </form>
</p-dialog>
