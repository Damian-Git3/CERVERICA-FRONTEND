<p-toolbar>
  <div class="p-toolbar-group-start">
    <p-button
      icon="fa-solid fa-rotate-right"
      class="mr-2"
      (click)="obtenerInsumos()"
    />
    <p-button icon="pi pi-plus" class="mr-2" (click)="modal.show()" />

    <p-button icon="pi pi-upload" />
  </div>
  <div class="p-toolbar-group-center">
    <span class="p-input-icon-left">
      <i class="pi pi-search"></i>
      <input pInputText placeholder="Search" />
    </span>
  </div>
  <div class="p-toolbar-group-end">
    <p-splitButton label="Save" icon="pi pi-check" [model]="items" />
  </div>
</p-toolbar>
<p-table
  #dt
  [value]="insumos"
  [styleClass]="'p-datatable-sm'"
  [rows]="5"
  [paginator]="true"
  [showCurrentPageReport]="true"
  [selectionMode]="'single'"
  currentPageReportTemplate="{first} de {last}"
>
  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn=" id">ID <p-sortIcon field="id" /></th>
      <th pSortableColumn="nombre">NOMBRE <p-sortIcon field="nombre" /></th>
      <th pSortableColumn="unidadMedida">
        UNIDAD <p-sortIcon field="unidadMedida" />
      </th>
      <th pSortableColumn="cantidadMinima">
        MINIMO <p-sortIcon field="cantidadMinima" />
      </th>
      <th pSortableColumn="cantidadMaxima">
        MAXIMO <p-sortIcon field="cantidadMaxima" />
      </th>
      <th pSortableColumn="costoUnitario">
        COSTO UNITARIO <p-sortIcon field="costoUnitario" />
      </th>
      <th pSortableColumn="merma">MERMA <p-sortIcon field="merma" /></th>
      <th pSortableColumn="activo">ESTATUS <p-sortIcon field="activo" /></th>
      <th>ACCIONES</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-producto>
    <tr (dblclick)="modal.show(producto.id)">
      <td>{{ producto.id }}</td>
      <td>{{ producto.nombre }}</td>
      <td>{{ producto.unidadMedida }}</td>
      <td>{{ producto.cantidadMinima }}</td>
      <td>{{ producto.cantidadMaxima }}</td>
      <td>{{ producto.costoUnitario }}</td>
      <td>{{ producto.merma }}</td>
      <td>
        <p-tag
          *ngIf="producto.activo"
          severity="success"
          value="ACTIVO"
          [rounded]="true"
        />
        <p-tag
          *ngIf="!producto.activo"
          severity="danger"
          value="INACTIVO"
          [rounded]="true"
        />
      </td>
      <td>
        <p-button
          size="small"
          icon="pi pi-pencil"
          class="mr-2"
          (click)="modal.show(producto.id)"
        ></p-button>
        <p-button size="small" icon="pi pi-trash" class="mr-2"></p-button>
      </td>
    </tr>
  </ng-template>
</p-table>
<app-insumos-modal #modal (reload)="obtenerInsumos()"></app-insumos-modal>
